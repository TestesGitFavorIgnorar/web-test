<!DOCTYPE html>
<html lang="pt-br">
<head>
	<title>Guess the number </title>
	<style>
      html {
        font-family: sans-serif;
      }
      body {
        width: 50%;
        max-width: 800px;
        min-width: 480px;
        margin: 0 auto;
      }
      .ultimoResultado {
        color: white;
        padding: 3px;
      }
    </style>
</head>

<body style="text-align:center">
	<br><br><br><br><br>
	<h1>Jogo da adivinhação</h1>
	<p> Conjunto de Regras: </p>
	<p>O computador sorteará um número entre 1 e 100</p>
	<p>Você envia um número e ele diz se é mais alto ou baixo</p>
		<!--<ol>
			<li> Você acertou! </li>
			<li> Você errou! baixo </li>
			<li> Você errou! alto</li>
		</ol>-->
	<br><br><br><br><br>
	<div class="form">
		<p class="tLeft">Tentativas restantes: 10</p>
		<label for="campoPalpite">Digite seu palpite: </label>
		<input type="" id="campoPalpite" class="campoPalpite">
		<input type="submit" value="Enviar palpite" class="envioPalpite">
	</div>
	
	<div class="resultados">
		<p class="palpites"></p>
		<p class="lastResults"></p>
		<p class="hiLo"></p>
	
	</div>
	
</body>
<script>
	var randomNum = Math.floor(Math.random() *100)+1;
	var randomText = 0;
	var palpites = document.querySelector('.palpites');
	var lastResults = document.querySelector('.lastResults');
	var hiLo = document.querySelector('.hiLo');
	var campoPalpite = document.querySelector('.campoPalpite');
	var envioPalpite = document.querySelector('.envioPalpite');
	var countPalpites = 1;
	var tLeft = document.querySelector('.tLeft');
	var tLeft_count = 10;
	function conferir(){
		var palpiteUser = Number(campoPalpite.value);
		if(countPalpites === 1){
			palpites.textContent = 'Palpites Anteriores: ';
		}
		palpites.textContent += palpiteUser + ' ';
		if(palpiteUser === randomNum){
			lastResults.textContent = 'Parabéns! Você acertou!';
			lastResults.style.backgroundColor = 'green';
			hiLo.textContent = '';
			configFimDeJogo();
		}
		else if(countPalpites === 11){
			lastResults.textContent = 'Que pena! Você perdeu';
			hiLo.textContent = '';
			configFimDeJogo();
		}
		else if(palpiteUser > 100 || palpiteUser<0){
			tLeft_count--;
			tLeft.textContent = 'Tentativas restantes: '+tLeft_count;
			lastResults.style.backgroundColor = 'cyan';
			lastResults.textContent = 'Não é um número válido para o nosso joguinho, usuário espertinho';
			hiLo.textContent = '';}
		else{
			tLeft_count--;
			tLeft.textContent = 'Tentativas restantes: '+tLeft_count;
			lastResults.style.backgroundColor = 'red';
			randomText = Math.floor(Math.random() * 6);
			if(randomText === 1) lastResults.textContent = 'Errou';
			else if(randomText === 2) lastResults.textContent = 'Não é esse';
			else if(randomText === 3) lastResults.textContent = 'Chegou perto (ou não)';
			else if(randomText === 4) lastResults.textContent = 'Acertou se o objetivo era acertar um número errado';
			else if(randomText === 5) lastResults.textContent = 'Mais sorte da próxima vez';
			if(palpiteUser < randomNum){
				hiLo.textContent = 'Mais alto';
			} else if(palpiteUser > randomNum){
				hiLo.textContent = 'Mais baixo';
			}
		}
		countPalpites++;
		campoPalpite.value='';
		campoPalpite.focus();
		
	}
	
	envioPalpite.addEventListener('click', conferir);
	function configFimDeJogo() {
		campoPalpite.disabled = true;
		envioPalpite.disabled = true;
		botaoReinicio = document.createElement('button');
		botaoReinicio.textContent = 'Iniciar novo jogo';
		document.body.appendChild(botaoReinicio);
		botaoReinicio.addEventListener('click', reiniciarJogo);
	}
	
	function reiniciarJogo() {
		countPalpites = 1;
		tLeft_count = 10;
		tLeft.textContent = 'Tentativas restantes: '+tLeft_count;
		var reiniciarParas = document.querySelectorAll('.resultados p');
		for (var i = 0 ; i < reiniciarParas.length ; i++) {
			reiniciarParas[i].textContent = '';
		}

		botaoReinicio.parentNode.removeChild(botaoReinicio);

		campoPalpite.disabled = false;
		envioPalpite.disabled = false;
		campoPalpite.value = '';
		campoPalpite.focus();

		lastResults.style.backgroundColor = 'white';

		randomNum = Math.floor(Math.random() * 100) + 1;
	}
	
	</script>
</html>